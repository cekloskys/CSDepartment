<html>
<head>
<title>MainActivity.java</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #000080; font-weight: bold;}
.s1 { color: #000000;}
.s2 { color: #808080; font-style: italic;}
.s3 { color: #808080; font-weight: bold; font-style: italic;}
.s4 { color: #008000; font-weight: bold;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
MainActivity.java</font>
</center></td></tr></table>
<pre><span class="s0">package </span>com.example.csdepartment;

<span class="s0">import </span>android.os.Bundle;

<span class="s0">import </span>androidx.appcompat.app.AppCompatActivity;
<span class="s0">import </span>androidx.appcompat.widget.Toolbar;

<span class="s0">import </span>android.view.Menu;
<span class="s0">import </span>android.view.MenuItem;
<span class="s0">import </span>android.view.View;
<span class="s0">import </span>android.widget.AdapterView;
<span class="s0">import </span>android.widget.ArrayAdapter;
<span class="s0">import </span>android.widget.EditText;
<span class="s0">import </span>android.widget.Spinner;
<span class="s0">import </span>android.widget.Toast;

<span class="s2">// implement AdapterView.OnItemSelectedListener so that an OnItemSelectedListener may</span>
// be set on the Spinner
<span class="s0">public class </span>MainActivity <span class="s0">extends </span>AppCompatActivity <span class="s0">implements </span>AdapterView.OnItemSelectedListener{

    <span class="s2">// declare EditText</span>
    EditText nameEditText;

    <span class="s2">// declare Spinners</span>
    Spinner yearSpinner;
    Spinner majorSpinner;

    <span class="s2">// declare Strings for data input by user</span>
    String name;
    String year;
    String major;

    <span class="s2">// declare DBHandler</span>
    DBHandler dbHandler;

    <span class="s2">/**</span>
     * This method initializes the MainActivity.
     * <span class="s3">@param </span><span class="s2">savedInstanceState a Bundle object that is passed into the onCreate</span>
     *                           method of every Android Activity. Activities have
     *                           the ability, under special circumstances, to restore
     *                           themselves to a previous state using the data stored
     *                           in this bundle. If there is no available instance data,
     *                           the savedInstanceState will be null.
     */
    @Override
    <span class="s0">protected void </span>onCreate(Bundle savedInstanceState) {

        <span class="s2">// code generated by Android Studio that initializes the View</span>
        // and ActionBar of MainActivity Activity
        <span class="s0">super</span>.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        Toolbar toolbar = findViewById(R.id.toolbar);
        setSupportActionBar(toolbar);

        <span class="s2">// initialize EditText</span>
        nameEditText = (EditText) findViewById(R.id.nameEditText);

        <span class="s2">// initialize Spinners</span>
        yearSpinner = (Spinner) findViewById(R.id.yearSpinner);
        majorSpinner = (Spinner) findViewById(R.id.majorSpinner);

        <span class="s2">// initialize ArrayAdapter with values in year string array</span>
        // and stylize it with style defined by simple_spinner_item
        ArrayAdapter&lt;CharSequence&gt; yearAdapter = ArrayAdapter.createFromResource(<span class="s0">this</span>, R.array.year, android.R.layout.simple_spinner_item);

        <span class="s2">// further stylize ArrayAdapter with style defined by simple_spinner_dropdown_item</span>
        yearAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);

        <span class="s2">// set ArrayAdapter on Spinner</span>
        yearSpinner.setAdapter(yearAdapter);

        <span class="s2">// set OnItemSelectedListener on Spinner</span>
        yearSpinner.setOnItemSelectedListener(<span class="s0">this</span>);

        <span class="s2">// initialize ArrayAdapter with values in year string array</span>
        // and stylize it with style defined by simple_spinner_item
        ArrayAdapter&lt;CharSequence&gt; majorAdapter = ArrayAdapter.createFromResource(<span class="s0">this</span>, R.array.major, android.R.layout.simple_spinner_item);

        <span class="s2">// further stylize ArrayAdapter with style defined by simple_spinner_dropdown_item</span>
        majorAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);

        <span class="s2">// set ArrayAdapter on Spinner</span>
        majorSpinner.setAdapter(majorAdapter);

        <span class="s2">// set OnItemSelectedListener on Spinner</span>
        majorSpinner.setOnItemSelectedListener(<span class="s0">this</span>);

        <span class="s2">// initialize DBHandler</span>
        dbHandler = <span class="s0">new </span>DBHandler(<span class="s0">this</span>, <span class="s0">null</span>);
    }

    <span class="s2">/**</span>
     * This method inflates (creates) the menu for the Main Activity.
     * <span class="s3">@param </span><span class="s2">menu menu_main</span>
     * <span class="s3">@return </span><span class="s2">true</span>
     */
    @Override
    <span class="s0">public boolean </span>onCreateOptionsMenu(Menu menu) {
        <span class="s2">// Inflate the menu; this adds items to the action bar if it is present.</span>
        getMenuInflater().inflate(R.menu.menu_main, menu);
        <span class="s0">return true</span>;
    }

    <span class="s2">/**</span>
     * This method gets called when the ADD item in the Menu
     * gets pushed.  It validates that all required data has been input.
     * If it has been input, it adds it to the database and displays a Toast,
     * else it simply displays a Toast.
     * <span class="s3">@param </span><span class="s2">menuItem because the ADD Item that calls this method is</span>
     *             in a Menu, we must pass the method a MenuItem.
     */
    <span class="s0">public void </span>addStudent (MenuItem menuItem){

        <span class="s2">// get data input in EditText and store it in String</span>
        name = nameEditText.getText().toString();

        <span class="s2">// trim Strings and see if any are equal to an empty String</span>
        <span class="s0">if </span>((name.trim().equals(<span class="s4">&quot;&quot;</span>)) || (year.trim().equals(<span class="s4">&quot;&quot;</span>)) || (major.trim().equals(<span class="s4">&quot;&quot;</span>))){
            <span class="s2">// if any are equal to an empty String, then that means</span>
            // required data hasn't been input, so display a toast
            Toast.makeText(<span class="s0">this</span>, <span class="s4">&quot;Please enter a name, year, and major!&quot;</span>, Toast.LENGTH_LONG).show();
        } <span class="s0">else </span>{
            <span class="s2">// if none are equal to an empty String, then that means</span>
            // all required data has been input, so update the database
            // and display a toast
            dbHandler.addStudent(name, year, major);
            Toast.makeText(<span class="s0">this</span>, name + <span class="s4">&quot; added!&quot;</span>, Toast.LENGTH_LONG).show();
        }
    }

    <span class="s2">/**</span>
     * This method gets called when an item in a Spinner is selected.
     * <span class="s3">@param </span><span class="s2">adapterView Spinner AdapterView</span>
     * <span class="s3">@param </span><span class="s2">view MainActivity View</span>
     * <span class="s3">@param </span><span class="s2">position position of item in Spinner that was selected</span>
     * <span class="s3">@param </span><span class="s2">id database id of item in Spinner that was selected</span>
     */
    @Override
    <span class="s0">public void </span>onItemSelected(AdapterView&lt;?&gt; adapterView, View view, <span class="s0">int </span>position, <span class="s0">long </span>id) {

        <span class="s2">// check if it was the year Spinner that was selected</span>
        <span class="s0">if </span>(adapterView.equals(yearSpinner))
            <span class="s2">// get item selected based on position, convert it to a String</span>
            // and store it in String
            year = adapterView.getItemAtPosition(position).toString();
        <span class="s0">else</span>
            major = adapterView.getItemAtPosition(position).toString();
    }

    @Override
    <span class="s0">public void </span>onNothingSelected(AdapterView&lt;?&gt; adapterView) {

    }
}
</pre>
</body>
</html>